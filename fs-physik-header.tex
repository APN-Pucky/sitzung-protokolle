% Header-Datei für Protokolle der Fachschaft Physik der WWU Münster
% Datum: 2014-12-21
% Autor: Simon May

%%% Pakete & Klassen
% Verwendung von KOMA-Script
\documentclass[
	% Papierformat
	a4paper,
	% Schriftgröße
	12pt,
	% einseitiges Layout
	oneside,
	% Abstand zwischen Absätzen statt Einrücken
	parskip=half-,
	% Papiergröße korrekt ins Dokument schreiben
	pagesize,
	% deutsches Dokument (neue deutsche Rechtschreibung)
	ngerman
]{scrartcl}

% Unterscheidung zwischen pdfTeX und LuaTeX
\usepackage{iftex}
\ifLuaTeX
	% Einstellungen für Schriftart
	\usepackage{fontspec}
	\defaultfontfeatures{Ligatures=TeX}
	% Silbentrennung, sprachspezifische Einstellungen
	\usepackage{polyglossia}
	\setmainlanguage{german}
\else
	% Silbentrennung, sprachspezifische Einstellungen
	\usepackage[ngerman]{babel}
	% Mögliche darstellbare Zeichen (Umlaute, Sonderzeichen...)
	\usepackage[T1]{fontenc}
	% Zeichenkodierung der TeX-Datei
	\usepackage[utf8]{inputenc}
	% Schriftart
	\usepackage{lmodern}
	% führt Befehle für Sonderzeichen ein
	\usepackage{textcomp}
\fi
% Einige LaTeX-Bugs beheben
\usepackage{fixltx2e}
% Für Kopf-/Fußzeile etc.
\usepackage{scrpage2}
% Farben ermöglichen
\usepackage{xcolor}
% Paket für Bilder-Einbindung (EPS, PNG, JPG, PDF)
\usepackage{graphicx}
% Formatieren von Überschriften
\usepackage{titlesec}
% Anpassen des Inhaltsverzeichnisses
\usepackage{titletoc}
% schönere Aufzählungen
\usepackage{enumitem}
% "Schlaue" Anführungszeichen
\usepackage{csquotes}
% für extra lange Tabellen
\usepackage{longtable}
% Zum Einbinden von Zitaten oder Textdateien
\usepackage{listingsutf8}
% Zur einfachen Eingabe von Zahlen mit Einheiten
\usepackage{siunitx}
% Seitenränder
\usepackage[
	left=1.8cm,
	right=1.8cm,
	top=1.8cm,
	bottom=1.5cm
]{geometry}
% Verlinkung, Querverweise können im PDF angeklickt werden
\usepackage[bookmarksnumbered, unicode]{hyperref}

%%% Einstellungen
% Mehr Freiraum in Tabellen
\renewcommand{\arraystretch}{1.1}

% Einstellungen für Sonderzeichen bei listings
\lstset{
	columns=flexible,
	breaklines=true,
	basicstyle=\ttfamily,
	literate=
		{ö}{{\"o}}1
		{ä}{{\"a}}1
		{ü}{{\"u}}1
		{Ö}{{\"O}}1
		{Ä}{{\"A}}1
		{Ü}{{\"U}}1
		{ß}{{\ss}}1
		{§}{{\S}}1
}

% Anführungszeichen automatisch umwandeln
\MakeOuterQuote{"}

% Einstellungen für siunitx
\sisetup{locale=DE, mode=text}

% Einstellungen für Aufzählungen
\setlist{
	% Linke Einrückung
	leftmargin=2em
}

% Einstellungen für hyperref
\hypersetup{
	% Links/Verweise mit Kasten der Dicke 0.5pt versehen
	pdfborder={0 0 0.5}
}

% Kopfzeile links
\ihead{\protokollheader}
% Kopfzeile rechts
\ohead{\pagemark}
% Fußzeile leer
\cfoot{}
% Dokument mit Kopf-/Fußzeile
\pagestyle{scrheadings}

%%% Definitionen
\makeatletter
\newcounter{protokollcounter}
\newcommand{\protokollparse}[1]{\@for\@tempa:=#1\do{\stepcounter{protokollcounter}}}
\makeatother

% Allgemeine Variablen
\newcommand{\protokolltitle}{Protokoll der Fachschaftssitzung}
\newcommand{\protokolldatum}{00.00.0000}
\newcommand{\protokollbeginn}{00:00 Uhr}
\newcommand{\protokollende}{00:00 Uhr}
\newcommand{\protokollant}{NN}
\newcommand{\protokollort}{N/A}
\newcommand{\protokollanwesend}{NN}
\newcommand{\cntprotokollanwesend}{\setcounter{protokollcounter}{0}\protokollparse{\protokollanwesend}\arabic{protokollcounter}}

% Definitionen für FSR-Sitzung
\newcommand{\protokollheader}{Protokoll der Fachschaftssitzung vom \protokolldatum}
\newcommand{\protokollfehlend}{NN}
\newcommand{\cntprotokollfehlend}{\setcounter{protokollcounter}{0}\protokollparse{\protokollfehlend}\arabic{protokollcounter}}

\newcommand{\protokolltitlepage}{
	\begin{center}
		\includegraphics[width=0.75\textwidth]{fs-physik-logo.pdf}
		
		{\usekomafont{title}\huge
		\protokolltitle
		\par}
		
		\medskip
		{\usekomafont{date}
		\protokolldatum
		\par}
		
		\medskip
		\begin{longtable}{|p{6.1cm}|p{6.1cm}|}
			\hline
			\endfirsthead
			\textbf{Beginn:}    \protokollbeginn &
			\textbf{Ende:}      \protokollende \\
			\hline
			\textbf{Protokollant:} &
			\protokollant \\
			\hline
			\multicolumn{2}{|p{12.5cm}|}{\textbf{Anwesende (\cntprotokollanwesend):}} \\
			\multicolumn{2}{|p{12.5cm}|}{\raggedright\protokollanwesend} \\
			\hline
			\multicolumn{2}{|p{12.5cm}|}{\textbf{Entschuldigt (\cntprotokollfehlend):}} \\
			\multicolumn{2}{|p{12.5cm}|}{\raggedright\protokollfehlend} \\
			\hline
		\end{longtable}
	\end{center}
	
	\tableofcontents
	\clearpage
}

% Definitionen für konstituierende FSV-Sitzung
\newcommand{\protokolltitlekonstituierend}{Protokoll zur konstituierenden Sitzung der Fachschaftsvertretung Physik\\sowie Wahl des Fachschaftsrats}
\newcommand{\protokollweitere}{NN}
\newcommand{\cntprotokollweitere}{\setcounter{protokollcounter}{0}\protokollparse{\protokollweitere}\arabic{protokollcounter}}

\newcommand{\protokolltitlepagekonstituierend}{
	\renewcommand{\protokollheader}{Protokoll zur konstituierenden Sitzung vom \protokolldatum}
	% Anpassen der Überschriften und des Inhaltsverzeichnisses
	\newcommand{\protokollsectitle}{TOP~\thetitle: }
	\titlelabel{\protokollsectitle}
	
	\newcommand{\protokollsetsecentries}[1]{
		\titlecontents{section}
		[1em]
		{\usekomafont{sectionentry}}
		{##1}
		{}
		{\hfill\contentspage}
		[\bigskip]
		
		\titlecontents{subsection}
		[2em]
		{\vspace*{-\medskipamount}}
		{##1}
		{\hspace*{-2.3em}}
		{\titlerule*{.}\contentspage}
		[\medskip]
	}
	\protokollsetsecentries{TOP~\thecontentslabel: }
	
	% Anhang korrekt behandeln
	\let\protokollappendix\appendix
	\renewcommand{\appendix}{
		\renewcommand{\protokollsectitle}{Anhang~\thetitle: }
		\protokollsetsecentries{Anhang~\thecontentslabel: }
		\protokollappendix
	}
	
	\begin{center}
		\includegraphics[width=0.75\textwidth]{fs-physik-logo.pdf}
		
		{\usekomafont{title}\huge
		\protokolltitlekonstituierend
		\par}
		
		\medskip
		{\usekomafont{date}
		\protokolldatum
		\par}
		
		\medskip
		\begin{longtable}{|p{5cm}|p{9.5cm}|}
			\hline
			\endfirsthead
			\textbf{Beginn:}    \protokollbeginn &
			\textbf{Ende:}      \protokollende \\
			\hline
			\textbf{Protokollant:} &
			\protokollant \\
			\hline
			\textbf{Ort:} &
			\raggedright\arraybackslash
			\protokollort \\
			\hline
			\multicolumn{2}{|p{15cm}|}{\textbf{Anwesende Mitglieder der neuen Fachschaftsvertretung (\cntprotokollanwesend):}} \\
			\multicolumn{2}{|p{15cm}|}{\raggedright\protokollanwesend} \\
			\hline
			\multicolumn{2}{|p{15cm}|}{\textbf{Weitere Anwesende (\cntprotokollweitere):}} \\
			\multicolumn{2}{|p{15cm}|}{\raggedright\protokollweitere} \\
			\hline
		\end{longtable}
	\end{center}
	
	\tableofcontents
	\clearpage
}

